"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7618],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=l(n),d=a,f=h["".concat(p,".").concat(d)]||h[d]||c[d]||o;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},6907:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],s={title:"Bonus",sidebar_label:"Bonus",pagination_next:null,pagination_prev:null,slug:"bonus",hide_table_of_contents:!1,sidebar_position:2},p="Bonus (5pts)",l={unversionedId:"lecture-10/bonus",id:"lecture-10/bonus",title:"Bonus",description:"Data for countries, step1",source:"@site/docs/lecture-10/bonus.md",sourceDirName:"lecture-10",slug:"/lecture-10/bonus",permalink:"/sp2022/lecture-10/bonus",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Bonus",sidebar_label:"Bonus",pagination_next:null,pagination_prev:null,slug:"bonus",hide_table_of_contents:!1,sidebar_position:2},sidebar:"docs"},u={},c=[{value:"Data for countries, step1",id:"data-for-countries-step1",level:2},{value:"Data for countries, step2",id:"data-for-countries-step2",level:2},{value:"Data for countries, step3",id:"data-for-countries-step3",level:2},{value:"Reference",id:"reference",level:2}],h={toc:c};function d(e){var t=e.components,s=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"bonus-5pts"},"Bonus (5pts)"),(0,o.kt)("h2",{id:"data-for-countries-step1"},"Data for countries, step1"),(0,o.kt)("p",null,"The API ",(0,o.kt)("a",{parentName:"p",href:"https://restcountries.com"},"https://restcountries.com")," provides data for different countries in a machine-readable format, a so-called REST API."),(0,o.kt)("p",null,"Create an application, in which one can look at data of various countries. The application should probably get the data from the endpoint ",(0,o.kt)("a",{parentName:"p",href:"https://restcountries.com/#api-endpoints-v3-all"},"all"),"."),(0,o.kt)("p",null,"The user interface is very simple. The country to be shown is found by typing a search query into the search field."),(0,o.kt)("p",null,"If there are too many (over 10) countries that match the query, then the user is prompted to make their query more specific:"),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",src:n(5369).Z,width:"1422",height:"242"})),(0,o.kt)("p",null,"If there are ten or fewer countries, but more than one, then all countries matching the query are shown:"),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",src:n(3889).Z,width:"1376",height:"316"})),(0,o.kt)("p",null,"When there is only one country matching the query, then the basic data of the country (eg. capital and area), its flag and the languages spoken there, are shown:"),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",src:n(1596).Z,width:"1400",height:"876"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NB"),": It is enough that your application works for most of the countries. Some countries, like ",(0,o.kt)("i",null,"Sudan"),", can be hard to support, since the name of the country is part of the name of another country, ",(0,o.kt)("i",null,"South Sudan"),". You need not to worry about these edge cases."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"WARNING")," create-react-app will automatically turn your project into a git-repository unless you create your application inside of an existing git repository. ",(0,o.kt)("strong",{parentName:"p"},"Most likely you do not want each of your projects to be a separate repository"),", so simply run the ",(0,o.kt)("em",{parentName:"p"},"rm -rf .git")," command at the root of your application."),(0,o.kt)("h2",{id:"data-for-countries-step2"},"Data for countries, step2"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"There is still a lot to do in this part, so don't get stuck on this exercise!")),(0,o.kt)("p",null,"Improve on the application in the previous exercise, such that when the names of multiple countries are shown on the page there is a button next to the name of the country, which when pressed shows the view for that country:"),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",src:n(1111).Z,width:"1388",height:"364"})),(0,o.kt)("p",null,"In this exercise it is also enough that your application works for most of the countries. Countries whose name appears in the name of another country, like ",(0,o.kt)("i",null,"Sudan"),", can be ignored."),(0,o.kt)("h2",{id:"data-for-countries-step3"},"Data for countries, step3"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"There is still a lot to do in this part, so don't get stuck on this exercise!")),(0,o.kt)("p",null,"Add to the view showing the data of a single country, the weather report for the capital of that country. There are dozens of providers for weather data. One suggested API is ",(0,o.kt)("a",{parentName:"p",href:"https://openweathermap.org"},"https://openweathermap.org"),". Note that it might take some minutes until a generated api key is valid."),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",src:n(1339).Z,width:"1282",height:"1110"})),(0,o.kt)("p",null,"If you use Open weather map, ",(0,o.kt)("a",{parentName:"p",href:"https://openweathermap.org/weather-conditions#Icon-list"},"here")," is the description how to get weather icons."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NB:")," In some browsers (such as Firefox) the chosen API might send an error response, which indicates that HTTPS encryption is not supported, although the request URL starts with ",(0,o.kt)("em",{parentName:"p"},"http://"),". This issue can be fixed by completing the exercise using Chrome."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"NB:")," You need an api-key to use almost every weather service. Do not save the api-key to source control! Nor hardcode the api-key to your source code. Instead use an ",(0,o.kt)("a",{parentName:"p",href:"https://create-react-app.dev/docs/adding-custom-environment-variables/"},"environment variable")," to save the key."),(0,o.kt)("p",null,"Assuming the api-key is ",(0,o.kt)("i",null,"t0p53cr3t4p1k3yv4lu3"),", when the application is started like so:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"REACT_APP_API_KEY='t0p53cr3t4p1k3yv4lu3' npm start // For Linux/macOS Bash\n($env:REACT_APP_API_KEY='t0p53cr3t4p1k3yv4lu3') -and (npm start) // For Windows PowerShell\nset REACT_APP_API_KEY='t0p53cr3t4p1k3yv4lu3' && npm start // For Windows cmd.exe\n")),(0,o.kt)("p",null,"you can access the value of the key from the ",(0,o.kt)("em",{parentName:"p"},"process.env")," object:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const api_key = process.env.REACT_APP_API_KEY\n// variable api_key has now the value set in startup\n")),(0,o.kt)("p",null,"Note that if you created the application using ",(0,o.kt)("inlineCode",{parentName:"p"},"npx create-react-app ...")," and you want to use a different name for your environment variable then the environment variable name must still begin with ",(0,o.kt)("inlineCode",{parentName:"p"},"REACT_APP_"),". You can also use a ",(0,o.kt)("inlineCode",{parentName:"p"},".env")," file rather than defining it on the command line each time by creating a file entitled '.env' in the root of the project and adding the following. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"#\xa0.env\n\nREACT_APP_API_KEY=t0p53cr3t4p1k3yv4lu3\n")),(0,o.kt)("p",null,"Note that you will need to restart the server to apply the changes."),(0,o.kt)("h2",{id:"reference"},"Reference"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://fullstackopen.com"},"FullStackOpen: Exercises 2.12.-2.14."))))}d.isMDXComponent=!0},5369:function(e,t,n){t.Z=n.p+"assets/images/19b1-71406ddd05d7d8615519ea103e0cc419.png"},3889:function(e,t,n){t.Z=n.p+"assets/images/19b2-30352ed23e3d77edbd8c81f4a615ae93.png"},1111:function(e,t,n){t.Z=n.p+"assets/images/19b4-942c4b3c5dc1cbcd55ad9b1a86cc52dd.png"},1596:function(e,t,n){t.Z=n.p+"assets/images/19c3-8f392e76a87a5129efbf9d7db84405f5.png"},1339:function(e,t,n){t.Z=n.p+"assets/images/19x-676c777d05ac250a7f56aefb8f8f4871.png"}}]);